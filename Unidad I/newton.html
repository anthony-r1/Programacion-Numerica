<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√©todo de Newton-Raphson - Programaci√≥n Num√©rica</title>
  <link rel="stylesheet" href="..//Archivos css/newton.css">
</head>
<body>
    <div class="night-sky"></div>
    <div class="stars" id="stars"></div>

    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="unidad1.html" class="back-button" onclick="history.back(); return false;">‚Üê Volver</a>
                <h1 class="header-title">Programaci√≥n Num√©rica FINESI</h1>
                <div class="student-info">
                    <span class="info-badge">üë®‚Äçüéì Anthony Rusbel Puma Huanca</span>
                    <span class="info-badge">üìã C√≥digo: 240132</span>
                </div>
            </div>
        </div>
    </header>

    <section class="hero-section">
        <div class="container">
            <div class="hero-icon">‚ö°</div>
            <h1 class="hero-title">M√©todo de Newton-Raphson</h1>
            <p class="hero-subtitle">M√©todo Num√©rico Iterativo para Hallar Ra√≠ces</p>
        </div>
    </section>

    <div class="container">
        <!-- INTRODUCCI√ìN -->
        <section class="content-section">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üìö</span>
                    M√©todo de Newton-Raphson
                </h2>
                <div class="section-content">
                    <p>
                        El M√©todo de Newton-Raphson es un m√©todo num√©rico iterativo para hallar ra√≠ces de una funci√≥n.
                    </p>
                </div>
            </div>
        </section>

        <!-- F√ìRMULA Y DERIVACI√ìN -->
        <section class="content-section">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üî¢</span>
                    F√≥rmula y Derivaci√≥n
                </h2>
                <div class="section-content">
                    <p>
                        Se basa en la aproximaci√≥n de Taylor de primer orden.
                    </p>
                    <p style="margin-top: 1rem;">
                        La f√≥rmula iterativa clave para la siguiente aproximaci√≥n (x<sub>n+1</sub>) es:
                    </p>
                    <div class="formula-box">
                        x<sub>n+1</sub> = x<sub>n</sub> - f(x<sub>n</sub>) / f'(x<sub>n</sub>)
                    </div>
                </div>
            </div>
        </section>

        <!-- CONVERGENCIA -->
        <section class="content-section">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üìä</span>
                    Convergencia
                </h2>
                <div class="section-content">
                    <div class="info-list">
                        <ul>
                            <li><strong>Requisito:</strong> Se necesita que f ‚àà C¬≤[a, b] y que f'(r) ‚â† 0 en la ra√≠z (r).</li>
                            <li><strong>Velocidad:</strong> Presenta Convergencia Cuadr√°tica, descrita por la relaci√≥n: |e<sub>n+1</sub>| ‚â§ M |e<sub>n</sub>|¬≤</li>
                            <li><strong>Orden:</strong> Tiene un orden de convergencia p = 2.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- EJEMPLO -->
        <section class="content-section">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üí°</span>
                    Ejemplo del M√©todo de Newton-Raphson: ‚àö5
                </h2>
                <div class="section-content">
                    <p>
                        El objetivo es encontrar x = ‚àö5, resolviendo f(x) = x¬≤ - 5 = 0.
                    </p>

                    <h3 style="color: var(--secondary-color); margin: 2rem 0 1rem 0;">1. Preparaci√≥n de la F√≥rmula</h3>
                    <table class="example-table">
                        <thead>
                            <tr>
                                <th>Elemento</th>
                                <th>Definici√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Funci√≥n</strong></td>
                                <td>f(x) = x¬≤ - 5</td>
                            </tr>
                            <tr>
                                <td><strong>Derivada</strong></td>
                                <td>f'(x) = 2x</td>
                            </tr>
                            <tr>
                                <td><strong>F√≥rmula Simplificada</strong></td>
                                <td>x<sub>n+1</sub> = 1/2 (x<sub>n</sub> + 5/x<sub>n</sub>)</td>
                            </tr>
                            <tr>
                                <td><strong>Aproximaci√≥n Inicial</strong></td>
                                <td>x‚ÇÄ = 2</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: var(--secondary-color); margin: 2rem 0 1rem 0;">2. Iteraciones</h3>
                    <table class="iteration-table">
                        <thead>
                            <tr>
                                <th>n</th>
                                <th>x<sub>n</sub></th>
                                <th>C√°lculo de x<sub>n+1</sub></th>
                                <th>Resultado x<sub>n+1</sub></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0</td>
                                <td>2</td>
                                <td>x‚ÇÅ = 1/2 (2 + 5/2) = 1/2 (4.5)</td>
                                <td>2.25</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>2.25</td>
                                <td>x‚ÇÇ = 1/2 (2.25 + 5/2.25)</td>
                                <td>2.236111</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>2.236111</td>
                                <td>x‚ÇÉ = 1/2 (2.236111 + 5/2.236111)</td>
                                <td>2.236068</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: var(--secondary-color); margin: 2rem 0 1rem 0;">3. Resultado Final</h3>
                    <div class="result-box">
                        <div class="result-title">‚úÖ Resultado</div>
                        <div class="result-content">
                            <p>El m√©todo converge r√°pidamente hacia el valor real de ‚àö5:</p>
                            <p style="font-size: 1.3rem; margin: 1rem 0; color: var(--success-color);"><strong>x ‚âà 2.236068</strong></p>
                            <p><strong>Verificaci√≥n:</strong></p>
                            <p>f(x) = x¬≤ - 5 = (2.236068)¬≤ - 5 = 4.999999 - 5 ‚âà 0</p>
                        </div>
                    </div>

                    <div class="info-list" style="margin-top: 2rem;">
                        <ul>
                            <li><strong>Conclusi√≥n:</strong> El m√©todo de Newton-Raphson converge en tan solo 3 iteraciones al valor x = 2.2361, que corresponde a ‚àö5 con una precisi√≥n excelente.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- C√ìDIGO EN PYTHON -->
        <section class="content-section">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üíª</span>
                    C√≥digo en Python
                </h2>
                <div class="section-content">
                    <div class="code-container">
                        <div class="code-header">
                            <span>üêç Implementaci√≥n del M√©todo Raphson</span>
                            <button class="copy-button" onclick="copiarCodigo()">
                                <span id="copyIcon">üìã</span>
                                <span id="copyText">Copiar</span>
                            </button>
                        </div>
                        <pre id="codigoPython">class MetodoRaphson:
    def __init__(self, ecuacion):
        self.ecuacion = ecuacion.replace(" ", "")
        self.f = lambda x: eval(self.ecuacion)
        self.derivada_str = self._derivar(self.ecuacion)
        self.x0 = self._valor_inicial()
    
    def _derivar(self, ecuacion):
        if "x**" in ecuacion:
            idx = ecuacion.find("x**")
            exponente = ""
            i = idx + 3
            while i < len(ecuacion) and ecuacion[i].isdigit():
                exponente += ecuacion[i]
                i += 1
            
            try:
                exp = int(exponente)
            except ValueError:
                return "0"
            
            coef_str = ecuacion[:idx]
            coef = 1 if coef_str in ["", "+"] else -1 if coef_str == "-" else float(coef_str)
            
            nuevo_coef, nuevo_exp = coef * exp, exp - 1
            
            if nuevo_exp == 0:
                return str(nuevo_coef)
            elif nuevo_exp == 1:
                return f"{nuevo_coef}*x"
            return f"{nuevo_coef}*x**{nuevo_exp}"
        return "2*x"
    
    def _derivada_num(self, x):
        h = 1e-4
        try:
            return (self.f(x + h) - self.f(x - h)) / (2 * h)
        except:
            return 0.0
    
    def _valor_inicial(self):
        for x in [1, 2, 3, -1, -2, -3, 0.5, -0.5]:
            try:
                if abs(self._derivada_num(x)) > 0.01 and abs(self.f(x)) < 10000:
                    return x
            except:
                continue
        return 1
    
    def resolver(self, tol=1e-4, max_iter=100):
        x = self.x0
        print("Iteracion    xn           f(xn)          xn+1")
        print("-" * 50)
        
        for i in range(max_iter):
            try:
                fx = self.f(x)
                dfx = self._derivada_num(x)
            except:
                print("Error: Fallo al evaluar f(x) o f'(x).")
                return None
            
            if abs(dfx) < 1e-4:
                print("Error: Derivada muy pequena")
                return None
            
            x_new = x - fx / dfx
            
            print(f"{i+1:<10}{x:<12.8f}{fx:<15.8f}{x_new:<12.8f}")
            
            if abs(fx) < tol:
                print(f"Converge en {i+1} iteraciones")
                return x_new
            
            x = x_new
        
        print("Advertencia: Maximo de iteraciones alcanzado.")
        return x
    
    def _bonito(self, txt):
        return txt.replace("**", "^").replace("*", "")
    
    def mostrar_datos(self):
        print("=" * 50)
        print("Datos del problema")
        print("=" * 50)
        print(f"Funcion: f(x) = {self._bonito(self.ecuacion)}")
        print(f"Derivada: f'(x) = {self._bonito(self.derivada_str)}")
        print(f"Valor inicial: x0 = {self.x0}")
        print("=" * 50)

# === Uso del metodo ===
print("Metodo de Newton-Raphson")
print("=" * 50)

try:
    ecuacion = input("Ingresa la funcion f(x): ")
except EOFError:
    ecuacion = "x**2 - 5"

metodo = MetodoRaphson(ecuacion)
metodo.mostrar_datos()
raiz = metodo.resolver()

print("=" * 50)
print("Resultados")
print("=" * 50)
if raiz:
    print(f"Raiz encontrada: x = {round(raiz, 4)}")
    print(f"Verificacion: f({round(raiz, 6)}) = {round(metodo.f(raiz), 4)}")
else:
    print("No se encontro la raiz")
print("=" * 50)</pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- APLICANDO EN EL PROGRAMA -->
        <section class="content-section" style="display: none;">
            <div class="content-card">
                <h2 class="section-title">
                    <span>üñ•Ô∏è</span>
                    Aplicando en el programa
                </h2>
                <div class="section-content">
                    <div class="screenshot-container">
                        <div class="screenshot-title">Figura 1: Salida del programa ejecutado en Python</div>
                        <div class="screenshot-placeholder">
                            <p>üì∏ Salida del programa mostrando:</p>
                            <p style="margin-top: 1rem;">
                                - Datos del problema<br>
                                - Iteraciones del m√©todo<br>
                                - Resultado final con verificaci√≥n
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer style="padding: 2rem 0; text-align: center; border-top: 2px solid rgba(6, 182, 212, 0.2); margin-top: 4rem;">
        <div class="container">
            <p style="color: var(--text-muted);">¬© 2025 Programaci√≥n Num√©rica FINESI - Universidad Nacional del Altiplano</p>
            <p style="color: var(--text-muted); margin-top: 0.5rem;">Docente: Fred Torres Cruz</p>
        </div>
    </footer>

  <script src="../Archivos JS/newton.js"></script>
</body>
</html>